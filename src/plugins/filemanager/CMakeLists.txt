cmake_minimum_required(VERSION 3.10)

# add sub dir for business plugins

if(OPT_ENABLE_QML)
    # TODO: add plugins
    add_subdirectory(qml/dfmplugin-core)
    add_subdirectory(qml/dfmplugin-workspace)
    add_subdirectory(qml/dfmplugin-titlebar)
    add_subdirectory(qml/dfmplugin-detailspace)
    add_subdirectory(qml/dfmplugin-sidebar)
else()
    add_subdirectory(core/dfmplugin-core)
    add_subdirectory(core/dfmplugin-recent)
    add_subdirectory(core/dfmplugin-sidebar)
    add_subdirectory(core/dfmplugin-titlebar)
    add_subdirectory(core/dfmplugin-workspace)
    add_subdirectory(core/dfmplugin-detailspace)
    add_subdirectory(core/dfmplugin-trash)
    if (NOT OPT_ENABLE_QT6)
        add_subdirectory(core/dfmplugin-computer)
        add_subdirectory(dfmplugin-search)
        add_subdirectory(dfmplugin-vault)
    endif()
    add_subdirectory(dfmplugin-optical)
    add_subdirectory(dfmplugin-myshares)
    add_subdirectory(dfmplugin-smbbrowser)
    add_subdirectory(dfmplugin-avfsbrowser)
endif()
